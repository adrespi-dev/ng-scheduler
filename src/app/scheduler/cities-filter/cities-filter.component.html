<div class="filter-title">
  Filter By City
</div>

<div class="mat-selection-list-wrapper">
  <div
    class="mat-list-option option-select-all"
    (click)="$event.stopPropagation(); toggleSelectAll(!selectAll.checked)"
  >
    <mat-checkbox
      #selectAll
      class="mat-option"
      [indeterminate]="isIndeterminate()"
      [checked]="isChecked()"
      (click)="$event.stopPropagation()"
      (change)="toggleSelectAll($event.checked)"
      color="primary"
    >
    </mat-checkbox>
    <div class="mat-list-option-label">
      Select all
    </div>
  </div>

  <mat-selection-list
    #citiesList
    [(ngModel)]="selectedCities"
    (ngModelChange)="handleSelectionChanged()"
    color="primary"
    #colorsList
  >
    <mat-list-option
      checkboxPosition="before"
      *ngFor="let city of cities"
      [value]="city"
    >
      {{ city }}
    </mat-list-option>
  </mat-selection-list>
</div>
